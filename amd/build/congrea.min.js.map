{"version":3,"sources":["../src/congrea.js"],"names":["define","$","presetColor","change","val","value","css","congreaOnlinePopup","submit","expected","Date","now","hide","window","location","reload","newTab","open","closed","focus","attr","congreaPlayRecording","congreaHideJoin","timeDiff","document","ready","interval"],"mappings":";;AAAA;;;;;;;;;;AAWAA,MAAM,CAAC,CAAC,QAAD,EAAW,WAAX,EAAwB,mBAAxB,CAAD,EAA+C,UAAUC,CAAV,EAAa;AAC9D,SAAO;AACHC,IAAAA,WAAW,EAAE,uBAAY;AACrBD,MAAAA,CAAC,CAAC,oDAAD,CAAD,CAAwDE,MAAxD,CAA+D,YAAY;AACvE,YAAIC,GAAG,GAAG,KAAKC,KAAf;AACAJ,QAAAA,CAAC,CAAC,oCAAD,CAAD,CAAwCK,GAAxC,CAA4C,kBAA5C,EAAgEF,GAAhE;AACAH,QAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCG,GAAnC,CAAuCA,GAAvC;AACH,OAJD;AAMH,KARE;AASHG,IAAAA,kBAAkB,EAAE,8BAAY;AAC5BN,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBO,MAAnB,CAA0B,YAAY;AAClC,YAAIC,QAAQ,GAAGR,CAAC,CAAC,gCAAD,CAAD,CAAoCG,GAApC,EAAf;;AACA,YAAIM,IAAI,CAACC,GAAL,KAAaF,QAAjB,EAA2B;AACvBR,UAAAA,CAAC,CAAC,WAAD,CAAD,CAAeW,IAAf;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,iBAAO,KAAP;AACH,SAJD,MAIO;AACH,cAAIC,MAAM,GAAGH,MAAM,CAACI,IAAP,CAAY,EAAZ,EAAgB,SAAhB,CAAb;;AACA,cAAIJ,MAAM,CAACG,MAAP,IAAiBH,MAAM,CAACG,MAAP,CAAcE,MAAd,KAAyB,KAA9C,EAAqD;AACjDF,YAAAA,MAAM,CAACG,KAAP;AACA,mBAAO,KAAP;AACH;;AACDlB,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQmB,IAAR,CAAa,QAAb,EAAuB,SAAvB;;AACA,cAAIJ,MAAJ,EAAY;AACRA,YAAAA,MAAM,CAACG,KAAP;AACA,mBAAOH,MAAP;AACH;;AACD,iBAAO,IAAP;AACH;AACJ,OAnBD;AAoBH,KA9BE;AA+BHK,IAAAA,oBAAoB,EAAE,gCAAY;AAC9BpB,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAcO,MAAd,CAAqB,YAAY;AAC7B,YAAIQ,MAAM,GAAGH,MAAM,CAACI,IAAP,CAAY,EAAZ,EAAgB,SAAhB,CAAb;;AACA,YAAIJ,MAAM,CAACG,MAAP,IAAiBH,MAAM,CAACG,MAAP,CAAcE,MAAd,KAAyB,KAA9C,EAAqD;AACjDF,UAAAA,MAAM,CAACG,KAAP;AACA,iBAAO,KAAP;AACH;;AACDlB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQmB,IAAR,CAAa,QAAb,EAAuB,SAAvB;;AACA,YAAIJ,MAAJ,EAAY;AACRA,UAAAA,MAAM,CAACG,KAAP;AACA,iBAAOH,MAAP;AACH;;AACD,eAAO,IAAP;AACH,OAZD;AAaH,KA7CE;AA8CHM,IAAAA,eAAe,EAAE,yBAAUC,QAAV,EAAoB;AACjCtB,MAAAA,CAAC,CAACuB,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;AAC1B,YAAIC,QAAQ,GAAG,CAACH,QAAQ,GAAG,EAAZ,IAAkB,IAAjC;AACA,YAAId,QAAQ,GAAGC,IAAI,CAACC,GAAL,KAAae,QAA5B;AACAzB,QAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCG,GAAnC,CAAuCK,QAAvC;AACH,OAJD;AAKH;AApDE,GAAP;AAsDH,CAvDK,CAAN","sourcesContent":["/**\n * Color setting for congrea\n *\n * You can have a rather longer description of the file as well,\n * if you like, and it can span multiple lines.\n *\n * @package    mod_Congrea\n * @copyright  2020 Manisha Dayal\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/ajax', 'core/notification'], function ($) {\n    return {\n        presetColor: function () {\n            $(\".form-select.defaultsnext #id_s_mod_congrea_preset\").change(function () {\n                let val = this.value;\n                $('.admin_colourpicker .currentcolour').css('background-color', val);\n                $('#id_s_mod_congrea_colorpicker').val(val);\n            });\n\n        },\n        congreaOnlinePopup: function () {\n            $('#overrideform').submit(function () {\n                let expected = $('input[name =\"expectedendtime\"]').val();\n                if (Date.now() > expected) {\n                    $('.vcbutton').hide();\n                    window.location.reload();\n                    return false;\n                } else {\n                    let newTab = window.open('', 'popupVc');\n                    if (window.newTab && window.newTab.closed === false) {\n                        newTab.focus();\n                        return false;\n                    }\n                    $(this).attr('target', 'popupVc');\n                    if (newTab) {\n                        newTab.focus();\n                        return newTab;\n                    }\n                    return true;\n                }\n            });\n        },\n        congreaPlayRecording: function () {\n            $('.playAct').submit(function () {\n                let newTab = window.open('', 'popupVc');\n                if (window.newTab && window.newTab.closed === false) {\n                    newTab.focus();\n                    return false;\n                }\n                $(this).attr('target', 'popupVc');\n                if (newTab) {\n                    newTab.focus();\n                    return newTab;\n                }\n                return true;\n            });\n        },\n        congreaHideJoin: function (timeDiff) {\n            $(document).ready(function () {\n                let interval = (timeDiff - 30) * 1000;\n                let expected = Date.now() + interval;\n                $('input[name=\"expectedendtime\"]').val(expected);\n            });\n        },\n    };\n});"],"file":"congrea.min.js"}